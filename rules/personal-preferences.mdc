---
description: Personal coding preferences and autonomous context management
alwaysApply: true
---

# Personal Preferences & Autonomous Context

## Managing Global Rules

**IMPORTANT:** Global rules are managed in a git repository, NOT directly in `~/.cursor/rules/`.

To find the cursor-config project location:
```bash
cat ~/.cursor/cursor-config-location
# Returns: /path/to/cursor-config
```

### When Creating New Global Rules

If you need to create a new rule that applies across all projects:

1. **Find the cursor-config repo:**
   ```bash
   CURSOR_CONFIG=$(cat ~/.cursor/cursor-config-location)
   ```

2. **Create the rule in the repo:**
   ```bash
   cat > "$CURSOR_CONFIG/rules/new-rule-name.mdc" << 'EOF'
   ---
   description: What this rule does
   alwaysApply: true
   ---
   # Rule content here
   EOF
   ```

3. **Run setup to create symlink:**
   ```bash
   cd "$CURSOR_CONFIG" && ./setup.sh
   ```

4. **Commit and push:**
   ```bash
   cd "$CURSOR_CONFIG" && git add -A && git commit -m "Add new-rule-name" && git push
   ```

**DO NOT** create files directly in `~/.cursor/rules/` - they won't be version controlled or synced.

### Project-Specific Rules (Fever, etc.)

For project-specific rules that shouldn't be public:
- Create them directly in `~/.cursor/rules/` (not symlinked)
- Or in the project's own `.cursor/rules/` directory

## Session Start Protocol

At the start of EVERY session in a git repository, silently run:
```bash
git config --get-regexp "^project\." 2>/dev/null
test -d .git/local-context && ls .git/local-context/
```

Use what you find. Don't ask questions already answered in context.

## Autonomous Context Storage

You are expected to **proactively store valuable information** discovered during sessions. Do not ask permission - just store and briefly mention it.

### High-Value Information (ALWAYS Store)

| Discovery | Action |
|-----------|--------|
| Test command works | `git config --local project.test-cmd "..."` |
| Found dev/build command | `git config --local project.dev-cmd "..."` |
| Identified architecture | `git config --local project.architecture "..."` |
| User corrects me | Add to `.cursor/rules/local-preferences.mdc` |
| Complex setup steps | Append to `.git/local-context/setup.md` |
| Non-obvious code pattern | Append to `.git/local-context/patterns.md` |
| External API details | Append to `.git/local-context/integrations.md` |
| Debugging insight | Append to `.git/local-context/troubleshooting.md` |

### Storage Phrases

After storing, say ONE of:
- "I've noted that for future sessions."
- "Saved for next time."
- "I'll remember that."

After updating outdated info, say ONE of:
- "Updated my notes - [what changed]."
- "Fixed the stored [thing] - it's now [new value]."
- "That's changed, I've updated it."

Do NOT ask "Would you like me to save/update this?" - just do it.

### Detecting Outdated Information

Update stored context when:
- A stored command fails → find working command, update git config
- A stored path doesn't exist → find new path, update notes
- User says "that's old/wrong/changed" → update immediately
- Dependencies don't match stored framework → update git config
- Code structure contradicts stored architecture → update notes

Always verify stored commands before running them if the project might have changed.

## Code Style

- Prefer explicit over implicit
- Descriptive variable names
- Small, focused functions
- Tests for critical paths
- Comments explain "why", not "what"

## When to Suggest Team Documentation

If you discover something that would help the whole team (not just personal notes), suggest:
- "This seems like it should be in `.cursor/rules/` for the team - want me to create it?"

Only suggest, don't auto-create committed files.
